elastic_client:
  constructor: NewElasticClient
  arguments:
    - "http://127.0.0.1:9200"
    - 5

#visit_repository:
#  constructor: NewDummyVisitRepository

elastic_visit_repository:
  constructor: NewElasticVisitRepository
  arguments:
    - "%elastic_client%"
    - "%uuid%"

visit_repository:
  constructor: NewMemoryVisitRepository
  arguments:
    - "%elastic_visit_repository%"
    - 1000

#event_repository:
#  constructor: NewDummyEventRepository

elastic_event_repository:
  constructor: NewElasticEventRepository
  arguments:
    - "%elastic_client%"
    - "%uuid%"

event_repository:
  constructor: NewMemoryEventRepository
  arguments:
    - "%elastic_event_repository%"

#flash_repository:
#  constructor: NewDummyFlashRepository

flash_repository:
  constructor: NewElasticFlashRepository
  arguments:
    - "%elastic_client%"
    - "%uuid%"

#elastic_mark_repository:
#  constructor: NewElasticMarkRepository
#  arguments:
#    - "%elastic_client%"
#    - "%uuid%"

mark_repository:
  constructor: NewDummyMarkRepository

thrift_service:
  constructor: NewThriftService
  arguments:
    - "localhost:9090"
    - 8192
